# "Медиацентр" - История изменений

## Версия: 0.3.6

- Просмотр IPTV: телегид интегрирован в список каналов, добавлено автоматическое обновление информации о текущей передачи, исправлено отображение названия канала при переключении кнопками вверх и вниз, исправлена перемотка при просмотре телепередачи в записи, добавлена возможность закрытия списка каналов при выборе, исправлено воспроизведение HLS с использованием HTTP заголовков
- Поддержка телепрограммы: перестроен формат хранения (телепрограмма стала занимать меньше места на диске), исправлена загрузка телепрограммы в форматe XMLTV (содержащая синонимы телеканалов)
- Добавлено отображение гиперссылок на странице с описанием
- Добавлена возможность ограничения на размер кэша эскизов (по умолчанию установлено ограничение в 200МБ)
- Добавлена возможность отключения заставки
- Добавлены ограниченные функции голосового управления (экспериментально, слушает команды при нажатой кнопке play). В основном меню открывает раздел глобального поиска. При просмотре IPTV переключает каналы. При просмотре видео управляет воспроизведением, команды: играть, пауза, стоп, следующий, предыдущий, вперед, назад, вверх, вниз.
- Исправлена ошибка загрузки дополнения при запуске приложения, которая может приводить к аварийному завершению работы приложения
- Для разработчиков: обновлен интерпретатор CPython с версии 3.8.5 до 3.9.13, исправлена работа библиотеки ffi в Lua
- Прочие изменения

## Версия: 0.3.5

- Обновлен стиль приложения: добавлен выбор фона, иконки в едином оформлении, контент сгруппирован по разделам, значки укрупнены
- Добавлен раздел "Поиск", реализующий быстрый поиск по доступным источникам и позволяющий искать по заголовку любого элемента через всплывающее меню (долгое нажатие кнопки выбора)
- Обновлен встроенный плеер (библиотека VLC) и исправлена перемотка при воспроизведении формата WEBM (YouTube), исправлен выбор субтитров при просмотре ТВ
- Исправлено открытие торрент файлов
- Добавлен новый механизм расширений (набор плагинов и обработчиков) с возможностью автоматического обновления
- Добавлен диалог с множественным выбором (Filmix). Чтобы отметить сразу много идущих подряд элементов можно выделить сначала самый первый, а потом последний через долгое нажатие кнопки выбора
- Избранное: исправлено открытие плейлиста по ссылке без открытия раздела, ручное добавление и редактирование ссылок в плейлисте, для создания плейлиста используется пункт "Добавить" меню приложения, включение и выключение сортировка элементов плейлиста через всплывающее меню
- Планировщик записи: дата и название передачи в имени файла поменяны местами, исправлено состояние завершенной задачи после перезапуска приложения
- Вместо сервиса WebCat добавлена поддержка просмотра http каталогов напрямую
- Добавлено очистка истории просмотра при выходе из приложения (включается в настройках)
- Добавлена функция удаления каталогов с локальных дисков
- Для разработчиков: обновлен интерпретатор CPython с версии 3.7.4 до 3.8.5, дополнения и пакеты расширений распаковываются на диск, новый формат локализации строк в конфигурационном файле (старый более не поддерживается), в интерпретатор Lua добавлены библиотеки ffi и cURL
- Прочие изменения

## Версия: 0.3.4

- Добавлен новый встроенный видеоплеер (используется по умолчанию) на основе библиотеки VLC, который дополнительно поддерживает: воспроизведение образов DVD / Blu-ray дисков как с локальных дисков так и по сети; встроенные и внешние субтитры; внешние звуковые дорожки; дополнительные настройки
- Старая версия встроенного плеера переименована как "облегченная версия"
- Добавлен раздел "Избранное", в котором можно создавать свои плейлисты
- Исправлена запись потока HLS, работающего по протоколу https
- Исправлено последовательное воспроизведение аудио по протоколу http(s) встроенным плеером
- Исправлена загрузка телепрограммы по ссылке без явного указания формата файла
- Исправлено открытие каталогов с некоторых FTP серверов
- Добавлен встроенный просмотр фотографий и GIF анимации
- Добавлен встроенный просмотр простых текстовых файлов
- Добавлено последовательное воспроизведение видео с загрузкой содержимого из подкаталогов или других встречающихся списков (следующая страница и так далее), включена по умолчанию. Функцию можно отключить в настройках "Обрабатывать подкаталоги при последовательном воспроизведении"
- Добавлен новый вид просмотра с выводом подробной информации об выделенном элементе
- Добавлена функция удаления файлов с локальных дисков, включая из раздела "Плейлисты"
- Прочие изменения

## Версия: 0.3.3

- Исправлена ошибка, возникающая при запуске просмотра списка с огромным количеством элементов
- Исправлено возобновление просмотра передачи в архиве телеканала после паузы
- Добавлены кнопки быстрого перехода (влево, вправо - 1 мин.; вверх, вниз - 3 мин.) при просмотре телеканала из архива
- Расширен список поддерживаемых источников контента, включая youtube плейлисты и трансляции
- Добавлен автоматический переход к следующему видео при невозможности воспроизведения текущего и неактивности пользователя в течении 5 секунд
- Добавлена подсветка элементов в зависимости от процента просмотренного (от 90% - зеленым цветом, от 10% - желтым цветом)
- Добавлена поддержка параметров `tvg-id`, `#EXTVLCOPT:http-*`, `catchup` = `default` или `append`, `catchup-source` и `catchup-days` в M3U плейлистах
- Добавлена поддержка дополнений (плагинов) на языке Python (экспериментально)
- Обновлена библиотека форматов и кодеков FFMPEG с 3.4 до 4.2.2 версии (аудио плеер)
- Улучшена безопасность хранения паролей и другой закрытой информации
- Добавлено кеширование раннее открытых дополнений и вспомогательных модулей
- Добавлен переход к последней строке списка по кнопке вправо
- Добавлен поиск по текущему списку
- Добавлен раздел Приложения
- Прочие изменения

## Версия: 0.3.2

- Исправлена загрузка телепрограммы в формате XMLTV из некоторых источников
- Улучшено автоматическое сопоставление имён телеканалов с загруженной телепрограммой
- Исправлено переключение между группами каналов при просмотре онлайн ТВ/IPTV
- Исправлено отображение иконок в M3U плейлистах
- При возврате из просмотра курсор устанавливается на последний проигрываемый элемент
- Исправлено выключение хранителя экрана при запуске автовоспроизведения вручную
- Веб интерфейс: добавлено воспроизведение выбранного файла (в цикле), добавлено управление процессом воспроизведения, добавлена загрузка нескольких файлов, добавлен предпросмотр видео (поддерживаются не все типы файлов) при нажатии на название файла, добавлено воспроизведение по ссылке на сайт или видеохостинг, добавлено получение снимка экрана (не для всех устройств)
- Добавлено автоматическая очистка устаревших записей телепрограммы с заданным в настройках периодом хранения
- Добавлена поддержка просмотра архива телеканалов (экспериментально, если поддерживается сервисом)
- Улучшена поддержка HTTP протокола
- Прочие изменения

## Версия: 0.3.1

- Исправлена загрузка изображений, при открытии списка изображение могло не соответствовать элементу списка
- Исправлена прокрутка панели навигации по страницам
- Добавлена поддержка телепрограммы в форматe MediaPortal и JTV (в RAR/7-Zip архивах)
- Добавлена поддержка плейлистов в форматах: B4S, WPL, URL, RAM, PXML
- Добавлен веб интерфейс (необходимо включить в настройках, по умолчанию порт 8081, логин и пароль - admin) для управления автовоспроизведением, включающий следующие возможности: запуск (перезапуск) и остановка воспроизведения, запуск воспроизведения по ссылке, создание каталога для автовоспроизведения (будет создан каталог ICONBIT_PLAY на преимущественно внешнем носителе информации), добавление и удаление файлов для автовоспроизведения, отображение информации о текущем воспроизведении (перед работой с файлами рекомендуется остановить воспроизведение)
- Добавлена настройка минимального по продолжительности видео для которого хранится время остановки
- Обновлен интерфейс приложения: добавлено меню навигации, добавлены анимированные панели управления в встроенном плеере, при воспроизведении видео добавлена кнопка вызова описания фильма, внешние окна (настройки, планировщик записи и т.д.) интегрированы в основное окно приложения, добавлено кеширование содержимого открытых страниц (для обновления содержимого текущей страницы необходимо вернуться назад и заново открыть страницу или выбрать страницу в панели навигации по страницам) и т.д.
- Добавлена поддержка выбора звуковой дорожки (не для всех устройств) в встроенном плеере
- Исправлено последовательное воспроизведение в встроенном плеере
- Добавлено открытие диалога авторизации для протоколов smb/ftp (при ошибке авторизации), с сохранением учетных данных
- Добавлена поддержка поиска и воспроизведения с сетевых устройств NetBios (Samba/Windows) без необходимости наличия root (Экспериментально)
- Добавлена поддержка воспроизведения Bluray ремукс и ISO образов с локальных дисков (Экспериментально)
- Обновлена библиотека форматов и кодеков FFMPEG с 2.8.1 до 3.4 версии (аудио плеер)
- Исправлена блокировка плагинов при возникновении сбоя в работе плагина
- Разработка плагинов: удалены устаревшие функции, добавлена поддержка криптографии
- Прочие изменения

## Версия: 0.3.0

- Исправлена запись HLS потока по ссылке вида `http://host/channel.m3u?[args]`
- Исправлен просмотр IPTV по udp:// ссылкам
- Добавлена возможность выбора источника телепрограммы (по умолчанию) из списка
- Добавлена поддержка телепрограммы в формате XMLTV
- Добавлено кеширование телепрограммы на диске
- Добавлено расширенное масштабирование (работает не на всех устройствах), чтобы включить его откройте настройки приложения и установите галочку напротив одноименного пункта. После включения в разделе масштабирование видео будет возможность выбора режима растягивание и обрезания по высоте
- Кнопка "Меню" перенесена в верхний левый угол экрана
- Изменено управление сервисами. Для того, чтобы настроить порядок и видимость сервисов откройте "Меню\Управление", установите/снимите галочки с нужных сервисов (кнопка "выбор") и переместите нужные сервисы вперёд (кнопка home/menu или долгое нажатие "выбор"). Для завершения настройки нажмите кнопку "назад"
- Оптимизировано кеширование картинок
- Добавлена функция ДЕМО воспроизведения в случайном порядке, для включения функции откройте настройки приложения или ярлык "Демо режим" в приложениях Android и включите "Произвольное воспроизведение"
- Добавлена возможность указания ссылки на иконку при добавлении ярлыка
- При просмотре видео встроенным плеером интервал перехода кнопками влево/вправо увеличен до 15 секунд
- Обновлена библиотека форматов и кодеков FFMPEG с 2.6 до 2.8.1 версии (аудио плеер), добавлена поддержка треккерной музыки (MOD,XM,IT,S3M)
- Прочие изменения

## Версия: 0.2.9

- Исправлено отсутствие звука на некоторых устройствах при просмотре онлайн ТВ
- Исправлено появление всплывающего диалога "Приложение не отвечает" с предложением подождать/завершить на некоторых устройствах
- Исправлено завершение воспроизведения видео при закрытии просмотра в момент продолжительного открытия контента
- Исправлено отображение телепрограммы канала с текущей передачи при использовании сервисов
- Исправлен просмотр HLS потока
- Увеличина скорость первоначального открытия просмотра видео/телеканала
- Оптимизировано переключение каналов
- Обновлена библиотека форматов и кодеков FFMPEG с 2.3.1 до 2.6 версии (аудио плеер)
- Исправлена проблема запуска приложения на более ранних версиях Android, связанная с проверкой root доступа
- Прочие изменения

## Версия: 0.2.8

- Добавлен аудио плеер с поддержкой множества форматов файлов и кодеков. Форматы файлов: WAV [.wav, .pcm] / ADIF, ADTS [.aac] / AC3 [.ac3] / DTS [.dts] / M4A [.m4a] / OGG [.ogg] / WMA [.wma] / FLAC [.flac] / APE [.ape] / WavPack [.wv] / TTA [.tta] / TAK [.tak] / MPEG [.mp1, .mp2, .mp3]. Кодеки: MPEG 1/2 Audio Layers I, II, and III (MP3) / DTS (downmix to stereo) / PCM / AAC / ALAC (Apple Lossless) / Microsoft WMA / FLAC / TTA (True Audio) / TAK (Tom’s AudioKompressor) / APE (Monkey’s Audio) / WavPack
- Увеличена скорость открытия интернет-радио, добавлено отображение технической информации о файле/потоке
- Добавлен раздел "Недавно просматриваемые", который содержит 100 последних открытых страниц с описанием
- Добавлено распознавание плейлистов по содержанию файла. Подддержка CUE плейлистов, находящихся в файлах: WavPack [.wv] / FLAC [.flac] / APE [.ape]
- Улучшено автоматическое определение кодировки текста, расширен список поддерживаемых кодировок
- Пользовательские ссылки теперь добавляются в начало списка сервисов
- Исправлена ошибка при использовании защищенного соединения (SSL, HTTPS)
- Оптимизация производительности и использования ресурсов
- Прочие изменения

## Версия: 0.2.7

- Добавлено отображение дополнительной информации (теги,картинка) при прослушивании в проводнике
- Исправлена пауза при просмотре видео (при быстром переходе в режиме паузы)
- Исправлено отображение ISO образов в разделе "Плейлисты"
- Оптимизация записи HLS (HTTP Live Streaming) потока на диск
- Добавлена поддержка протоколов mmsh/mmst/srtp/https
- Добавлена поддержка CUE плейлистов (экспериментально)
- Оптимизация получения дополнительной информации (телепрограмма)
- Добавлена поддержка ссылок на контент (плейлисты, картинки) с перенаправлениями (с использованием cookie)
- Оптимизация загрузки изображений, убрана настройка выбор режима загрузки изображений
- Исправлена проблема блокировки работы приложения при открытии труднодоступного ресурса
- Поправлено воспроизведение shoutcast ссылок
- Оптимизация использования памяти
- Прочие изменения

## Версия: 0.2.6

- Добавлена демо функция автоматического просмотра видео/фото при загрузки системы. Для активации данной функции необходимо создать каталог ICONBIT_PLAY на носителе и скопировать в него нужные видео/фото файлы. Настройка производится через отдельный ярлык "Демо режим" (приложения). Если после фото идет аудио файл то фото будет отображаться пока не завершится воспроизведение аудио файла
- Добавлена функция автоматического восстановления просмотра видео (встроенным проигрывателем) при обрыве связи
- Добавлена поддержка зеркалирования облачных сервисов
- Добавлена поддержка HLS (HTTP Live Streaming) потоков при просмотре онлайн ТВ
- Увеличена скорость загрузки списка контента (не для всех сервисов)
- Реализовано встраиваемое окно воспроизведения аудио в проводнике (справа от списка)
- Оптимизация использования памяти
- Прочие изменения

## Версия: 0.2.5

- Добавлен отдельный ярлык для запуска "Проводника": в разделе "Сеть" добавлена функция добавления серверов вручную, добавлена настройка отображения файлов, добавлено воспроизведение каталогов и образов (ISO) BD (экспериментально), добавлено автоматическое обновление списка устройств
- Добавлена настройка выбора приложения (IPTV, Медиацентр и Проводник) для запуска при загрузки системы, IPTV и Медиацентр запускаются после инициализации сети
- Добавлено отображение заголовка передачи при прослушивании интернет радио
- Добавлены настройки домена, пользователя и пароля для сети Samba/Windows
- Исправлено переключение групп каналов при просмотре ТВ через ярлык IPTV
- Прочие изменения

## Версия: 0.2.4

- Исправлено масштабирование иконок
- Добавлена поддержка плейлистов PLS/ASX
- Добавлена автоматическая загрузка и сопоставление телепрограммы для плейлистов M3U/XSPF (экспериментально), добавлена настройка адреса и часового пояса телепрограммы
- Добавлена функция возобновления просмотра с последнего места остановки при просмотре видео встроенным проигрывателем
- Добавлено отображение информации о действиях пользователя при просмотре видео встроенным проигрывателем
- Добавлена автоматическая проверка наличия обновлений при открытии приложения
- Добавлена функция создания ссылки на текущую страницу в главном меню
- Добавлено сохранение вида просмотра для отдельных плейлистов
- Прочие изменения

## Версия: 0.2.3

- Добавлено отображение размера файлов (на локальных и SMB/FTP ресурсах) и информации о носителе (свободно/всего) в Проводнике (вид просмотра - список)
- Добавлен обозреватель сети (раздел Проводник/Сеть)
- Исправлено восстановление окна приложения при его уничтожении (в связи с нехваткой памяти, отсутствия активности и т.д.), исправлена ошибка перезапуска приложения при долгом просмотре видео сторонним проигрывателем
- Добавлено отображение размера файла в планировщике записи, добавлен выбор носителя при добавлении задания
- Добавлено прерывание процесса открытия телеканала при подвисании
- Добавлено автоматическое переключение звуковой дорожки на язык системы при просмотре видео/онлайн встроенным плеером (не для всех устройств)
- Добавлен выбор носителя при записи (просмотр онлайн ТВ/IPTV)
- Добавлена поддержка добавления ссылок сервиса в главное меню
- Добавлена поддержка множества ZIP архивов телепрограммы в формате JTV (разделенных запятой), если в плейлисте указана только ссылка `http://www.teleguide.info/download/new3/jtv.zip` то в конце недели автоматически подгружается архив с телепрограммой за предыдущую неделю
- Добавлена поддержка поворота экрана устройства
- Добавлено последовательное воспроизведение видео и аудио контента встроенным проигрывателем, при воспроизведении видео доступны следующие кнопки управления: enter/OK - пауза/продолжить, вправо - перемотать на 10 секунд вперёд, влево - перемотать на 10 секунд назад, вверх - перемотать на 1 минуту вперёд, вниз - перемотать на 1 минуту назад, zoom in/zoom out - растягивание видео (не для всех устройств), menu/home - показать панель управления, при двойном нажатии данной кнопки осуществляется переход на следующее видео
- Добавлена функция отложенного выбора (выбор при двойном нажатии на элемент, включение функции в настройках), предназначена для устройств с сенсорным экраном или при использовании только мышки/гироскопического пульта
- Исправлена ошибка запуска приложения на Toucan Nano X и на новых моделях устройств серии NT
- Прочие изменения: добавлен пункт "Открыть с помощью..." в всплывающее меню, добавлена поддержка онлайн ссылок на видео VOD (M3U), убрано ограничение на количество файлов в каталоге, добавлено принудительное обновление приложения, добавлено отображение значений настроек, добавлен просмотр истории изменений, дополнительно добавлен вызов меню при нажатии на логотип и другое
- Переработан стиль приложения

## Версия: 0.2.2

- Добавлен планировщик записи. Добавление задания осуществляется через всплывающее меню (меню вызывается через долгое нажатие кнопки выбора). Посмотреть состояние заданий можно через меню/Планировщик заданий. Планировщик поддерживает 2 типа задания: запись заданного период (выполняется однократно) и запись по дням недели (выполняется многократно по выбранным дням недели и времени). При просмотре ТВ список заданий можно открыть с помощью двойного нажатия кнопки menu.
- Добавлен отдельный ярлык для запуска IPTV. Установить плейлист IPTV можно через всплывающее меню (меню вызывается через долгое нажатие кнопки выбора) основного приложения (Медиацентр)
- Добавлено сохранение общего вида просмотра (установка производится в главном меню) и вида просмотра в проводнике. Общий вид не действует для сервисов (плагинов), которые определяют его сами.
- Снижены системные требования приложения до Android 2.3
- Обновлен стиль
- Оптимизация производительности и прочие исправления

## Версия: 0.2.1

- Добавлена настройка отображения сервисов (Меню/Управление сервисами). В окне управления сервисами находятся список доступных сервисов и список отображаемых сервисов. С помощью выбора (нажатие enter/OK) можно добавить или убрать сервис, перемещая сервисы между списками доступных и отображаемых сервисов.
- Убраны отдельные настройки отображения разделов: плейлисты, проводник, 2КОМ
- Добавлено открытие заданного сервиса при запуске приложения. Чтобы использовать данный функционал необходимо выбрать сервис через всплывающее меню сервиса и включить в настройках приложения "Запускать основной сервис"
- Оптимизация стабильности работы

## Версия: 0.2.0

- Исправлено запоминание позиции при возврате в главное меню
- Добавлена настройка пропорционального растягивания видео картинки
- Добавлена запись с онлайн ТВ и IPTV каналов (поддерживается запись только по протоколам http/udp/rtp/rtmp). Чтобы начать/остановить запись нажмите "вправо" при просмотре канала (при закрытом списке каналов). Сохранение производится в каталог REC, устройство хранения выбирается в следующем порядке: USB HDD, USB flash, внешняя SD карта, встроенная SD карта.
- Добавлено запоминание вида просмотра каталогов в текущей истории
- Добавлен автозапуск приложения при загрузке системы, включение и отключение в настройках приложения

## Версия: 0.1.9

- Оптимизация производительности и стабильности работы
- Добавлено уведомление о новых версиях и прочих изменениях (настройка "Новости проекта")
- Доработана функция обновления приложения
- Исправлена ошибка при повторном открытии телепрограммы
- Добавлен переход к следующему видео по двойному нажатию кнопки menu/f1 при воспроизведении списком (YouTube)
- Исправлена ошибка при попытке воспроизведения unicast IPTV ссылок
- Исправлена проблема совместимости приложения с новыми версиями ОС Android
- Просмотр ТВ: дополнительно добавлена кнопка Space для вызова списка каналов, реализована кнопка Влево для возврата к предыдущему каналу (при закрытом списке каналов), повторное нажатие кнопки menu/f1 закрывает окно телепрограммы
- Добавлен IPTV плейлист оператора 2КОМ (только для абонентов, можно отключить в настройках)

## Версия: 0.1.8

- Оптимизация использование памяти
- Улучшена стабильность работы приложения
- Укрупнен шрифт, добавлен скроллинг не читаемого текста

## Версия: 0.1.6

- Добавлена поддержка плагинов (интернет сервисов), настройки интернет сервиса доступны в меню (через долгое нажатие)
- Добавлены сервисы: YouTube, Кинотеатр ivi.ru, Tvigle.ru, my-hit.ru, ViNTERA.TV, INETCOM.TV, RuTV(клипы), radio.akado.ru, Kартина.ТВ, Россия 24 (Новости)
- Включен современный стиль оформления диалоговых окон, меню и настроек (только для Android 3.0+)
- Добавлено кеширование изображений (преимущественно на SD карте), для очистки кеша доступен соответствующий пункт меню
- Добавлена возможность выбора в качестве проигрывателя видео/ТВ системного приложения
- В главном меню отображается список интернет сервисов, который загружается с сервера. Плейлисты доступны в соответствующем пункте, найденный плейлист можно добавить как ссылку в главное меню (через долгое нажатие)
- В меню добавлен пункт "Обновление" по которому можно проверить обновление версии и при желании запустить обновление

## Версия: 0.1.5

- Добавлена поддержка http ссылок с перенаправлениями, а также не прямых http ссылок на плейлисты
- Оптимизация процесса воспроизведения (управления и использования памяти)
- Добавлено отображение индикатора и названия канала при загрузке
- Добавлено отображение текущего времени при нажатии кнопки menu/f1 (при просмотре ТВ)
- Добавлена поддержка групп в плейлистах M3U (кнопки влево/вправо - переключение между группами в окне списка телепрограмм при просмотре ТВ)
- Прочие мелкие исправления

## Версия: 0.1.4

- Добавлена поддержка телепрограммы JTV (только zip архивы) при просмотре ТВ через M3U плейлист. Кнопка menu/f1 вызов списка передач
- Добавлена поддержка ввода ссылок на плейлисты (и другие ресурсы) с пульта. Для добавления ссылки нажмите menu/f1 и выберите добавить. Для редактирования и удалении ссылки используйте долгое нажатие на пункте (ссылки)
- Добавлена поддержка воспроизведения видео файлов с локальных и SMB ресурсов через плеер MX Player (необходимо включить в настройках)
- Исправлено ошибка приложения при открытии недоступного FTP сервера
- Оптимизация использования памяти
- Добавлен индикатор ожидания воспроизведения аудио ресурсов
